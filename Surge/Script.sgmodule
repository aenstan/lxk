#!name=Scripts Module
#!desc=This is a Surge module used to collect JaveScripts on daily use.
#!tag = type=http-request, pattern=https, requires-body=1, max-size=-1, script-path=javescript
#!tag = type=http-response, pattern=https, requires-body=1, max-size=-1, script-path=javescript

[General]
skip-proxy = %APPEND% iosapps.itunes.apple.com

[Script]
# BoxJs TF
BoxJs(TF) = type=http-request, pattern=^https?://boxjs.net, requires-body=true, timeout=120, script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/box/chavy.boxjs.js

# TestFlight
TF-Download = type=http-request, pattern=^https?:\/\/testflight\.apple\.com\/v\d\/accounts\/.+?\/install$, requires-body=1, script-update-interval=-1, max-size=0, script-path=https://raw.githubusercontent.com/chiupam/surge/main/scripts/javascripts/TF_Download.js

[URL Rewrite]
^https://boxjs.net http://boxjs.net 302
^http://ww1.boxjs.net http://boxjs.net 302
^http://ww6.boxjs.net http://boxjs.net 302

[MITM]
hostname = %APPEND% boxjs.net, testflight.apple.com
